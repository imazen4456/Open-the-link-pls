<!doctype html>
<html lang="ar" dir="rtl">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>...</title>
<style>
  :root{
    --rose-1:#fff0f6; --rose-2:#ffd6e8; --rose-3:#ff9ecf;
    --text:#2a0b12;
    --muted:#6b4650;
    --accent:#a02040;
  }
  *{box-sizing:border-box}
  html,body{height:100%; margin:0; font-family: "Noto Naskh Arabic", "Segoe UI", Tahoma, Arial; -webkit-font-smoothing:antialiased}
  body{
    background:linear-gradient(180deg,var(--rose-1),var(--rose-2) 45%,var(--rose-3));
    color:var(--text);
    display:flex; align-items:center; justify-content:center;
    overflow:hidden;
  }

  /* animated soft waves */
  .wave-bg{ position:fixed; inset:0; z-index:-2; overflow:hidden }
  .wave{ position:absolute; width:220%; height:220%; left:-60%; top:-60%;
    background:
      radial-gradient(circle at 20% 30%, rgba(255,255,255,0.12), transparent 12%),
      radial-gradient(circle at 80% 70%, rgba(255,255,255,0.08), transparent 12%),
      linear-gradient(135deg, rgba(255,255,255,0.02), rgba(0,0,0,0.02));
    transform:rotate(8deg); filter:blur(16px); animation: drift 14s linear infinite alternate; mix-blend-mode:screen;
  }
  .wave.w2{ opacity:0.9; animation-duration:20s; transform:rotate(-6deg) scale(1.05) }
  .wave.w3{ opacity:0.65; animation-duration:30s; transform:rotate(14deg) scale(1.12) }
  @keyframes drift {
    from { transform: translateY(-3%) rotate(8deg) scale(1); }
    to   { transform: translateY(3%) rotate(8deg) scale(1.03); }
  }

  main{ width:100%; max-width:980px; padding:28px; }
  .centered{ min-height:80vh; display:flex; align-items:center; justify-content:center; flex-direction:column; gap:18px; text-align:center }

  /* Page 1 */
  .title{
    font-size:clamp(22px,6vw,44px); font-weight:800; line-height:1.05;
    opacity:0; transform:translateY(8px); transition:opacity .9s ease, transform .9s ease;
  }
  .title.show{ opacity:1; transform:translateY(0) }

  .btn{
    padding:10px 18px; border-radius:999px; border:0; cursor:pointer; font-weight:700;
    background:rgba(255,255,255,0.92); box-shadow:0 10px 28px rgba(0,0,0,0.06);
  }

  /* Page 2 layout */
  .panel{ width:100%; max-width:840px; margin:auto; background:rgba(255,255,255,0.95); border-radius:14px; padding:26px; box-shadow:0 22px 44px rgba(0,0,0,0.06) }
  .panel.nobox{ background:transparent; box-shadow:none; }
  .type-area{ min-height:160px; font-size:18px; line-height:1.7; color:var(--text); text-align:right; direction:rtl; margin-bottom:12px }
  .side-quote{ margin-top:14px; font-size:15px; color:var(--muted); font-weight:600; text-align:center; }
  .countdown{ display:flex; gap:10px; justify-content:center; margin-top:18px; flex-wrap:wrap }
  .unit{ background:rgba(255,255,255,0.9); padding:10px 12px; border-radius:10px; min-width:84px; box-shadow:0 8px 18px rgba(0,0,0,0.04) }
  .unit .n{ font-weight:900; font-size:18px; color:var(--accent) }
  .unit .lbl{ font-size:12px; color:var(--muted) }

  .actions{ display:flex; gap:12px; justify-content:center; margin-top:16px; flex-wrap:wrap }
  .small{ font-size:13px; color:var(--muted) }

  /* Page 3 */
  .ayah-card{ width:100%; max-width:880px; margin:auto; background:rgba(255,255,255,0.95); border-radius:14px; padding:28px; box-shadow:0 20px 40px rgba(0,0,0,0.06); text-align:right; direction:rtl; font-size:18px; line-height:1.8 }
  .ayah-text{ font-weight:600; color:#111; letter-spacing:0.2px }
  .audio-controls{ display:flex; gap:12px; align-items:center; margin-top:16px; justify-content:center }
  .play-btn{ padding:10px 16px; border-radius:10px; border:0; cursor:pointer; background:var(--accent); color:white; font-weight:800 }
  .stop-btn{ padding:8px 12px; border-radius:10px; border:1px solid rgba(0,0,0,0.06); cursor:pointer; background:transparent }

  @media(max-width:520px){
    .unit{ min-width:64px }
    .title{ font-size:20px }
    .type-area{ font-size:16px }
  }
</style>
</head>
<body>
  <div class="wave-bg" aria-hidden="true">
    <div class="wave w1"></div>
    <div class="wave w2"></div>
    <div class="wave w3"></div>
  </div>

  <main>
    <!-- PAGE 1 -->
    <section id="page1" class="centered" aria-label="ØµÙØ­Ø© Ø§Ù„Ø¨Ø¯Ø§ÙŠØ©">
      <div>
        <h1 id="p1text" class="title">ÙÙŠ Ø­Ø¯ Ø§Ø®ØªØ§Ø± Ø§Ù„Ø·Ø±ÙŠÙ‚ Ø§Ù„Ø£ØµØ¹Ø¨â€¦ Ù„ÙƒÙ†Ù‡ Ø§Ù„Ø£Ø¬Ù…Ù„.</h1>
        <div style="height:16px"></div>
        <div style="display:flex; gap:10px; justify-content:center;">
          <button id="toPage2" class="btn" aria-controls="page2">ÙƒÙ…Ù‘Ù„ÙŠ...</button>
        </div>
      </div>
    </section>

    <!-- PAGE 2 -->
    <section id="page2" class="centered" style="display:none" aria-label="Ø§Ù„ØªÙ‡Ù†Ø¦Ø©">
      <div class="panel nobox" role="region" aria-labelledby="greetTitle">
        <div id="typewriter" class="type-area" aria-live="polite"></div>

        <div class="side-quote" id="sideQuote">Ø®Ù„ÙŠ Ø§Ø¨ØªØ³Ø§Ù…ØªÙƒ Ø¹Ø§Ø¯Ø©... Ù„Ø£Ù†Ù‡Ø§ Ø¯Ø§ÙŠÙ…Ù‹Ø§ Ø£Ø¬Ù…Ù„ Ù…Ù† Ø£ÙŠ Ø­Ø§Ø¬Ø©.</div>

        <div class="countdown" aria-hidden="false" id="countdown">
          <div class="unit"><div class="n" id="years">0</div><div class="lbl">Ø³Ù†Ø©</div></div>
          <div class="unit"><div class="n" id="months">0</div><div class="lbl">Ø´Ù‡Ø±</div></div>
          <div class="unit"><div class="n" id="days">0</div><div class="lbl">ÙŠÙˆÙ…</div></div>
          <div class="unit"><div class="n" id="hours">0</div><div class="lbl">Ø³Ø§Ø¹Ø©</div></div>
          <div class="unit"><div class="n" id="minutes">0</div><div class="lbl">Ø¯Ù‚ÙŠÙ‚Ø©</div></div>
          <div class="unit"><div class="n" id="seconds">0</div><div class="lbl">Ø«Ø§Ù†ÙŠØ©</div></div>
        </div>

        <div class="actions">
          <button id="toPage3" class="btn">ØªØ§Ø¨Ø¹ÙŠ â¤ï¸</button>
          <div class="small">Ø§Ù„ØªØ§Ø±ÙŠØ® Ø§Ù„Ø£ØµÙ„ÙŠ: 25 / 10 / 2022</div>
        </div>
      </div>
    </section>

    <!-- PAGE 3 -->
    <section id="page3" class="centered" style="display:none" aria-label="Ø§Ù„Ø¢ÙŠØ©">
      <div class="ayah-card" role="region" aria-labelledby="ayahTitle">
        <h3 id="ayahTitle" style="margin:0 0 12px 0; font-size:20px; color:var(--accent); font-weight:900">Ø³ÙˆØ±Ø© Ø§Ù„Ù†ÙˆØ± â€” Ø¢ÙŠØ© 31</h3>
        <div class="ayah-text" id="ayahText">
          ÙˆÙÙ‚ÙÙ„ Ù„Ù‘ÙÙ„Ù’Ù…ÙØ¤Ù’Ù…ÙÙ†ÙØ§ØªÙ ÙŠÙØºÙ’Ø¶ÙØ¶Ù’Ù†Ù Ù…ÙÙ†Ù’ Ø£ÙØ¨Ù’ØµÙØ§Ø±ÙÙ‡ÙÙ†Ù‘Ù ÙˆÙÙŠÙØ­Ù’ÙÙØ¸Ù’Ù†Ù ÙÙØ±ÙÙˆØ¬ÙÙ‡ÙÙ†Ù‘Ù ÙˆÙÙ„ÙØ§ ÙŠÙØ¨Ù’Ø¯ÙÙŠÙ†Ù Ø²ÙÙŠÙ†ÙØªÙÙ‡ÙÙ†Ù‘Ù Ø¥ÙÙ„Ù‘ÙØ§ Ù…ÙØ§ Ø¸ÙÙ‡ÙØ±Ù Ù…ÙÙ†Ù’Ù‡ÙØ§ Û– ÙˆÙ’Ù„Ù’ÙŠÙØ¶Ù’Ø±ÙØ¨Ù’Ù†Ù Ø¨ÙØ®ÙÙ…ÙØ±ÙÙ‡ÙÙ†Ù‘Ù Ø¹ÙÙ„ÙÙ‰Ù° Ø¬ÙÙŠÙÙˆØ¨ÙÙ‡ÙÙ†Ù‘Ù Û– ÙˆÙÙ„ÙØ§ ÙŠÙØ¨Ù’Ø¯ÙÙŠÙ†Ù Ø²ÙÙŠÙ†ÙØªÙÙ‡ÙÙ†Ù‘Ù Ø¥ÙÙ„Ù‘ÙØ§ Ù„ÙØ¨ÙØ¹ÙÙˆÙ„ÙØªÙÙ‡ÙÙ†Ù‘Ù Ø£ÙÙˆÙ’ Ø¢Ø¨ÙØ§Ø¦ÙÙ‡ÙÙ†Ù‘Ù Ø£ÙÙˆÙ’ Ø¢Ø¨ÙØ§Ø¡Ù Ø¨ÙØ¹ÙÙˆÙ„ÙØªÙÙ‡ÙÙ†Ù‘Ù Ø£ÙÙˆÙ’ Ø£ÙØ¨Ù’Ù†ÙØ§Ø¦ÙÙ‡ÙÙ†Ù‘Ù Ø£ÙÙˆÙ’ Ø£ÙØ¨Ù’Ù†ÙØ§Ø¡Ù Ø¨ÙØ¹ÙÙˆÙ„ÙØªÙÙ‡ÙÙ†Ù‘Ù Ø£ÙÙˆÙ’ Ø¥ÙØ®Ù’ÙˆÙØ§Ù†ÙÙ‡ÙÙ†Ù‘Ù Ø£ÙÙˆÙ’ Ø¨ÙÙ†ÙÙŠ Ø¥ÙØ®Ù’ÙˆÙØ§Ù†ÙÙ‡ÙÙ†Ù‘Ù Ø£ÙÙˆÙ’ Ø¨ÙÙ†ÙÙŠ Ø£ÙØ®ÙÙˆÙØ§ØªÙÙ‡ÙÙ†Ù‘Ù Ø£ÙÙˆÙ’ Ù†ÙØ³ÙØ§Ø¦ÙÙ‡ÙÙ†Ù‘Ù Ø£ÙÙˆÙ’ Ù…ÙØ§ Ù…ÙÙ„ÙÙƒÙØªÙ’ Ø£ÙÙŠÙ’Ù…ÙØ§Ù†ÙÙ‡ÙÙ†Ù‘Ù Ø£ÙÙˆÙ Ø§Ù„ØªÙ‘ÙØ§Ø¨ÙØ¹ÙÙŠÙ†Ù ØºÙÙŠÙ’Ø±Ù Ø£ÙÙˆÙ„ÙÙŠ Ø§Ù„Ù’Ø¥ÙØ±Ù’Ø¨ÙØ©Ù Ù…ÙÙ†Ù Ø§Ù„Ø±Ù‘ÙØ¬ÙØ§Ù„Ù Ø£ÙÙˆÙ Ø§Ù„Ø·Ù‘ÙÙÙ’Ù„Ù Ø§Ù„Ù‘ÙØ°ÙÙŠÙ†Ù Ù„ÙÙ…Ù’ ÙŠÙØ¸Ù’Ù‡ÙØ±ÙÙˆØ§ Ø¹ÙÙ„ÙÙ‰Ù° Ø¹ÙÙˆÙ’Ø±ÙØ§ØªÙ Ø§Ù„Ù†Ù‘ÙØ³ÙØ§Ø¡Ù Û– ÙˆÙÙ„ÙØ§ ÙŠÙØ¶Ù’Ø±ÙØ¨Ù’Ù†Ù Ø¨ÙØ£ÙØ±Ù’Ø¬ÙÙ„ÙÙ‡ÙÙ†Ù‘Ù Ù„ÙÙŠÙØ¹Ù’Ù„ÙÙ…Ù Ù…ÙØ§ ÙŠÙØ®Ù’ÙÙÙŠÙ†Ù Ù…ÙÙ† Ø²ÙÙŠÙ†ÙØªÙÙ‡ÙÙ†Ù‘Ù Ûš ÙˆÙØªÙÙˆØ¨ÙÙˆØ§ Ø¥ÙÙ„ÙÙ‰ Ø§Ù„Ù„Ù‘ÙÙ‡Ù Ø¬ÙÙ…ÙÙŠØ¹Ù‹Ø§ Ø£ÙÙŠÙ‘ÙÙ‡Ù Ø§Ù„Ù’Ù…ÙØ¤Ù’Ù…ÙÙ†ÙÙˆÙ†Ù Ù„ÙØ¹ÙÙ„Ù‘ÙÙƒÙÙ…Ù’ ØªÙÙÙ’Ù„ÙØ­ÙÙˆÙ†Ù
        </div>

        <div class="audio-controls" aria-hidden="false">
          <!-- AUDIO ELEMENT: ØºÙŠÙ‘Ø± Ø§Ø³Ù… Ø§Ù„Ù…Ù„Ù "ayah.mp3" Ù‡Ù†Ø§ Ù„Ø§Ø³Ù… Ù…Ù„ÙÙƒ Ø§Ù„ØµÙˆØªÙŠ -->
          <!-- ÙŠÙ…ÙƒÙ†Ùƒ ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ø³Ø·Ø± Ø§Ù„ØªØ§Ù„ÙŠ Ù„ÙŠØ´ÙŠØ± Ù„Ù…Ù„Ù Ø§Ù„ØµÙˆØª Ù„Ø¯ÙŠÙƒ -->
          <audio id="ayahAudio" preload="none">
            <source src="Ø³ÙˆØ±Ø© Ø§Ù„Ù†ÙˆØ± 31.mp3" type="audio/mpeg">
            <!-- Ø¶Ø¹ Ù…Ù„Ù Ø§Ù„ØµÙˆØª Ø¨ØµÙŠØºØ© mp3 Ø¨Ù†ÙØ³ Ø§Ø³Ù… Ø§Ù„Ù…Ù„Ù Ù‡Ù†Ø§ ÙÙŠ Ù†ÙØ³ Ù…Ø¬Ù„Ø¯ Ø§Ù„Ù€ HTML -->
          </audio>

          <button id="playBtn" class="play-btn">ØªØ´ØºÙŠÙ„ Ø§Ù„Ø¢ÙŠØ©</button>
          <button id="pauseBtn" class="stop-btn" style="display:none">Ø¥ÙŠÙ‚Ø§Ù</button>
        </div>

    </section>

  </main>

<script>
/* =========================
   Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ø¨Ø¯Ø§ÙŠØ©
   ========================= */
const page1 = document.getElementById('page1');
const page2 = document.getElementById('page2');
const page3 = document.getElementById('page3');
const p1text = document.getElementById('p1text');
const toPage2 = document.getElementById('toPage2');
const toPage3 = document.getElementById('toPage3');

const typewriterEl = document.getElementById('typewriter');
const yearsEl = document.getElementById('years');
const monthsEl = document.getElementById('months');
const daysEl = document.getElementById('days');
const hoursEl = document.getElementById('hours');
const minutesEl = document.getElementById('minutes');
const secondsEl = document.getElementById('seconds');

const playBtn = document.getElementById('playBtn');
const pauseBtn = document.getElementById('pauseBtn');
const ayahAudio = document.getElementById('ayahAudio');

/* show page1 text */
window.requestAnimationFrame(()=> setTimeout(()=> p1text.classList.add('show'), 120));

/* navigate to page2 */
toPage2.addEventListener('click', ()=>{
  page1.style.display = 'none';
  page2.style.display = 'flex';
  // start typewriter & countdown
  startTypewriter();
  updateClock();
  window.clockInterval = setInterval(updateClock, 1000);
});

/* navigate to page3 */
toPage3.addEventListener('click', ()=>{
  page2.style.display = 'none';
  page3.style.display = 'flex';
  // audio remains stopped until user presses play (browser policy)
});

/* =========================
   TYPEWRITER for the exact message (unchanged)
   ========================= */
const message = `Ù…Ù† 25 Ø£ÙƒØªÙˆØ¨Ø± 2022ØŒ Ø¨Ø¯Ø£ ÙØµÙ„ Ø¬Ø¯ÙŠØ¯ ÙÙŠ Ø­ÙƒØ§ÙŠØªÙƒâ€¦\nØ§Ù„ÙŠÙˆÙ… Ø§Ù„Ù„ÙŠ Ø§Ø®ØªØ±ØªÙŠ ÙÙŠÙ‡ ØªÙƒÙˆÙ†ÙŠ Ø£Ù‚Ø±Ø¨ Ù„Ø±Ø¨Ù†Ø§ØŒ ÙˆØ£Ø¬Ù…Ù„ Ø¨Ù…Ø¹Ù†Ù‰ ØªØ§Ù†ÙŠ.\nØªÙ„Øª Ø³Ù†ÙŠÙ† Ù…Ù† Ø§Ù„Ø³ØªØ±ØŒ Ø§Ù„Ù†ÙˆØ±ØŒ ÙˆØ§Ù„Ø«Ø¨Ø§Øª â€” ÙˆÙ„Ø³Ø© Ø§Ù„Ø®ÙŠØ± Ø¬Ø§ÙŠ Ø£ÙƒØªØ± ğŸŒ·\nÙØ®ÙˆØ± Ø¨ÙŠÙƒÙŠØŒ ÙˆØ¨Ø§Ù„Ø·Ø±ÙŠÙ‚ Ø§Ù„Ù„ÙŠ Ø§Ø®ØªØ±ØªÙŠÙ‡ØŒ Ù…Ù‡Ù…Ø§ ÙƒØ§Ù† ØµØ¹Ø¨â€¦ Ù„Ø£Ù†Ù‡ ÙƒØ§Ù† Ø§Ù„Ø£Ø¬Ù…Ù„.`;

let typeIndex = 0;
let typeInterval = null;

function startTypewriter(){
  if (typeInterval) return;
  typeIndex = 0;
  typewriterEl.innerHTML = '';
  // moderate speed: 25-40 ms per char, add slight pause on punctuation/newline
  const baseSpeed = 28;
  typeInterval = setInterval(()=> {
    if (typeIndex >= message.length) {
      clearInterval(typeInterval);
      typeInterval = null;
      return;
    }
    const ch = message[typeIndex++];
    if (ch === '\n') {
      typewriterEl.innerHTML += '<br/>';
    } else {
      // escape HTML
      const span = document.createElement('span');
      span.textContent = ch;
      typewriterEl.appendChild(span);
    }
    // adjust speed for punctuation
  }, baseSpeed);
}

/* =========================
   Countdown calculation (calendar-accurate)
   ========================= */
const START_DATE = new Date(Date.UTC(2022,9,25,0,0,0)); // Oct 25, 2022 UTC

function calculateDiff(startUTC, nowUTC) {
  let s = new Date(startUTC.getTime());
  let n = new Date(nowUTC.getTime());
  if (n < s) return {years:0, months:0, days:0, hours:0, minutes:0, seconds:0};

  let years = n.getUTCFullYear() - s.getUTCFullYear();
  // anniversary this year
  let ann = new Date(Date.UTC(s.getUTCFullYear() + years, s.getUTCMonth(), s.getUTCDate(), s.getUTCHours(), s.getUTCMinutes(), s.getUTCSeconds()));
  if (ann > n) { years--; ann = new Date(Date.UTC(s.getUTCFullYear() + years, s.getUTCMonth(), s.getUTCDate(), s.getUTCHours(), s.getUTCMinutes(), s.getUTCSeconds())); }

  // months
  let months = 0;
  let temp = new Date(ann.getTime());
  while (true) {
    let next = new Date(Date.UTC(temp.getUTCFullYear(), temp.getUTCMonth()+1, temp.getUTCDate(), temp.getUTCHours(), temp.getUTCMinutes(), temp.getUTCSeconds()));
    if (next <= n) { months++; temp = next; } else break;
  }

  let remMs = n.getTime() - temp.getTime();
  if (remMs < 0) remMs = 0;
  let days = Math.floor(remMs / (24*3600*1000)); remMs -= days * 24*3600*1000;
  let hours = Math.floor(remMs / (3600*1000)); remMs -= hours * 3600*1000;
  let minutes = Math.floor(remMs / (60*1000)); remMs -= minutes * 60*1000;
  let seconds = Math.floor(remMs / 1000);

  return {years, months, days, hours, minutes, seconds};
}

function updateClock(){
  const now = new Date();
  const diff = calculateDiff(START_DATE, new Date(Date.UTC(now.getUTCFullYear(), now.getUTCMonth(), now.getUTCDate(), now.getUTCHours(), now.getUTCMinutes(), now.getUTCSeconds())));
  yearsEl.textContent = diff.years;
  monthsEl.textContent = diff.months;
  daysEl.textContent = diff.days;
  hoursEl.textContent = diff.hours;
  minutesEl.textContent = diff.minutes;
  secondsEl.textContent = diff.seconds;
}

/* =========================
   Audio control (user triggers)
   - Default src is "ayah.mp3" (change filename as needed)
   ========================= */
playBtn.addEventListener('click', ()=>{
  // user explicitly asked to play: start audio
  try {
    ayahAudio.play().then(()=>{
      playBtn.style.display = 'none';
      pauseBtn.style.display = 'inline-block';
    }).catch(()=> {
      // some browsers may block autoplay even after user gesture if policies differ
      alert('ØªØ¹Ø°Ù‘Ø± ØªØ´ØºÙŠÙ„ Ø§Ù„ØµÙˆØª ØªÙ„Ù‚Ø§Ø¦ÙŠÙ‹Ø§. ØªØ£ÙƒØ¯ Ù…Ù† Ø£Ù† Ù…Ù„Ù Ø§Ù„ØµÙˆØª Ù…ÙˆØ¬ÙˆØ¯ Ø£Ùˆ Ø§Ø³Ù… Ø§Ù„Ù…Ù„Ù ØµØ­ÙŠØ­.');
    });
  } catch(e){
    alert('ØªØ¹Ø°Ù‘Ø± ØªØ´ØºÙŠÙ„ Ø§Ù„ØµÙˆØª.');
  }
});

pauseBtn.addEventListener('click', ()=>{
  ayahAudio.pause();
  pauseBtn.style.display = 'none';
  playBtn.style.display = 'inline-block';
});

/* optional: stop audio when navigating away */
window.addEventListener('beforeunload', ()=> {
  try { ayahAudio.pause(); } catch(e){}
});
</script>
</body>
</html>
